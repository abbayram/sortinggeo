<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <title>Geography Mega-Sorting Gallery</title>
    <style>
        body { font-family: 'Segoe UI', sans-serif; background: #f0f2f5; display: flex; flex-direction: column; align-items: center; padding: 20px; }
        #game-container { max-width: 800px; width: 100%; background: white; padding: 30px; border-radius: 12px; box-shadow: 0 4px 15px rgba(0,0,0,0.1); text-align: center; }
        #prompt { font-size: 26px; font-weight: bold; margin: 20px 0; color: #1a73e8; }
        #grid { display: flex; flex-wrap: wrap; justify-content: center; gap: 10px; background: #eee; padding: 20px; border-radius: 8px; }
        .item-btn { padding: 12px 18px; background: white; border: 1px solid #ccc; border-radius: 6px; cursor: pointer; font-weight: 500; transition: 0.2s; }
        .item-btn:hover { background: #eef2ff; }
        .item-btn.correct { background: #4CAF50; color: white; border-color: #4CAF50; pointer-events: none; }
        .item-btn.wrong { background: #f44336; color: white; animation: shake 0.3s; }
        @keyframes shake { 0%, 100% { transform: translateX(0); } 25% { transform: translateX(-5px); } 75% { transform: translateX(5px); } }
    </style>
</head>
<body>

<div id="game-container">
    <div id="stats">Fortschritt: <span id="score">0</span> / <span id="total">0</span></div>
    <div id="prompt">Wird geladen...</div>
    <div id="grid"></div>
</div>

<script>
    // HIER kommen die Daten rein (kÃ¶nnen spÃ¤ter auch aus einer JSON-Datei geladen werden)
    const quizData = {
        levels: [
            { question: "1 Land mit nicht-rechteckiger Flagge", targets: ["Nepal"], count: 1 },
            { question: "2 Inseln in Japan", targets: ["Hokkaido", "Kyushu"], count: 2 }
        ],
        allItems: ["Nepal", "Hokkaido", "Kyushu", "Berlin", "Paris", "Tokyo", "London", "New York"]
    };

    let currentLevelIdx = 0;
    let score = 0;
    let foundInLevel = 0;

    function init() {
        document.getElementById('total').textContent = quizData.levels.reduce((a, b) => a + b.count, 0);
        renderLevel();
        renderGrid();
    }

    function renderLevel() {
        const lvl = quizData.levels[currentLevelIdx];
        document.getElementById('prompt').textContent = lvl.question;
        foundInLevel = 0;
    }

    function renderGrid() {
        const grid = document.getElementById('grid');
        grid.innerHTML = '';
        quizData.allItems.sort(() => Math.random() - 0.5).forEach(item => {
            const btn = document.createElement('button');
            btn.className = 'item-btn';
            btn.textContent = item;
            btn.onclick = () => {
                const lvl = quizData.levels[currentLevelIdx];
                if (lvl.targets.includes(item)) {
                    btn.classList.add('correct');
                    score++;
                    foundInLevel++;
                    document.getElementById('score').textContent = score;
                    if (foundInLevel === lvl.count) {
                        currentLevelIdx++;
                        if (currentLevelIdx < quizData.levels.length) setTimeout(renderLevel, 600);
                        else document.getElementById('prompt').textContent = "ðŸŽ‰ Quiz beendet!";
                    }
                } else {
                    btn.classList.add('wrong');
                    setTimeout(() => btn.classList.remove('wrong'), 400);
                }
            };
            grid.appendChild(btn);
        });
    }
    init();
</script>
</body>
</html>
