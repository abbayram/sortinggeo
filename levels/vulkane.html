<!DOCTYPE html>
<html lang="de">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Mega-Sorting: Vulkane</title>
    <style>
        :root {
            --bg-color: #1a1a1a;
            --container-bg: #2d2d2d;
            --primary-accent: #ff4500; /* Lava Orange */
            --correct-color: #2ecc71;
            --wrong-color: #e74c3c;
            --text-color: #ffffff;
        }

        body { 
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
            background: var(--bg-color); 
            color: var(--text-color);
            display: flex; 
            flex-direction: column; 
            align-items: center; 
            padding: 20px; 
            margin: 0;
        }

        #game-container { 
            max-width: 900px; 
            width: 100%; 
            background: var(--container-bg); 
            padding: 30px; 
            border-radius: 15px; 
            box-shadow: 0 10px 30px rgba(0,0,0,0.5); 
            text-align: center; 
            border-top: 5px solid var(--primary-accent);
        }

        h1 { margin-top: 0; color: var(--primary-accent); text-transform: uppercase; letter-spacing: 2px; }

        #stats { font-size: 1.1em; margin-bottom: 10px; opacity: 0.8; }
        
        #prompt { 
            font-size: 24px; 
            font-weight: bold; 
            margin: 25px 0; 
            min-height: 60px;
            display: flex;
            align-items: center;
            justify-content: center;
            line-height: 1.2;
        }

        #grid { 
            display: flex; 
            flex-wrap: wrap; 
            justify-content: center; 
            gap: 12px; 
            background: rgba(0,0,0,0.2); 
            padding: 25px; 
            border-radius: 10px; 
        }

        .item-btn { 
            padding: 12px 18px; 
            background: #444; 
            color: white;
            border: 1px solid #555; 
            border-radius: 6px; 
            cursor: pointer; 
            font-weight: 500; 
            font-size: 0.95em;
            transition: all 0.2s ease;
            max-width: 250px;
        }

        .item-btn:hover { background: #555; border-color: var(--primary-accent); }
        
        .item-btn.correct { 
            background: var(--correct-color); 
            border-color: var(--correct-color); 
            color: white; 
            pointer-events: none; 
            opacity: 0.6;
        }

        .item-btn.wrong { 
            background: var(--wrong-color); 
            border-color: var(--wrong-color); 
            animation: shake 0.4s; 
        }

        @keyframes shake {
            0%, 100% { transform: translateX(0); }
            25% { transform: translateX(-6px); }
            75% { transform: translateX(6px); }
        }

        .nav-link { margin-top: 30px; color: #888; text-decoration: none; font-size: 0.9em; }
        .nav-link:hover { color: var(--primary-accent); }
    </style>
</head>
<body>

<div id="game-container">
    <h1>Vulkanismus Spezial</h1>
    <div id="stats">Gefunden: <span id="score">0</span> / 36</div>
    <div id="prompt">Wird geladen...</div>
    <div id="grid"></div>
    <a href="../index.html" class="nav-link">‚Üê Zur√ºck zur Auswahl</a>
</div>

<script>
    const quizData = {
        levels: [
            { 
                question: "8 lokale und globale Folgen vulkanischer Eruptionen", 
                targets: [
                    "Globale Abk√ºhlung durch Stratosph√§ren-Aerosole", "Klimatische Anomalien", 
                    "Vernichtung durch pyroklastische Str√∂me", "Lahare (vulkanische Schlammstr√∂me)", 
                    "Tsunamis", "Missernten und Hungersn√∂te", 
                    "Migration und gesellschaftliche Instabilit√§t", "Beeintr√§chtigung moderner Infrastruktur und Luftfahrt"
                ], 
                count: 8 
            },
            { 
                question: "7 Einheiten zur Beschreibung vulkanischer Prozesse", 
                targets: [
                    "VEI (Volcanic Explosivity Index)", "km¬≥ (Volumen)", "Mt (Megatonnen)", 
                    "km (H√∂he/Distanz)", "kg/s (F√∂rderrate)", "¬∞C (Temperatur)", "hPa (Luftdruck)"
                ], 
                count: 7 
            },
            { 
                question: "6 Eigenschaften explosiver Vulkane", 
                targets: [
                    "Ausbrechend / sprengend", "Andesitisches Magma", "Rhyolithisches Magma", 
                    "Temperatur: ca. 700‚Äì1100 ¬∞C", "Z√§hfl√ºssige Magmaeigenschaften", "Hoher Siliziumdioxid-Gehalt (52‚Äì80 % SiO‚ÇÇ)"
                ], 
                count: 6 
            },
            { 
                question: "5 Eigenschaften effusiver Vulkane", 
                targets: [
                    "Ausflie√üend (ruhige Lavaerg√ºsse)", "Basaltisches Magma", 
                    "Temperaturen √ºber 1100 ¬∞C", "D√ºnnfl√ºssige Lava", "Niedriger SiO‚ÇÇ-Gehalt (45‚Äì53 %)"
                ], 
                count: 5 
            },
            { 
                question: "4 Explosive Vulkantypen", 
                targets: ["Stratovulkan (Schichtvulkan)", "Asche- und Schlackekegel", "Maar", "Caldera"], 
                count: 4 
            },
            { 
                question: "3 Bekannte Calderavulkane", 
                targets: ["Yellowstone", "Pinatubo", "Campi Flegrei"], 
                count: 3 
            },
            { 
                question: "2 Effusive Vulkantypen", 
                targets: ["Schildvulkan", "Spaltenvulkan"], 
                count: 2 
            },
            { 
                question: "1 Globales Ph√§nomen durch den Tambora-Ausbruch (1815)", 
                targets: ["Das Jahr ohne Sommer"], 
                count: 1 
            }
        ]
    };

    // Alle W√∂rter f√ºr das Gitter sammeln
    let allItems = [];
    quizData.levels.forEach(lvl => allItems.push(...lvl.targets));

    let currentLevelIdx = 0;
    let score = 0;
    let foundInLevel = 0;

    function init() {
        renderLevel();
        renderGrid();
    }

    function renderLevel() {
        const lvl = quizData.levels[currentLevelIdx];
        document.getElementById('prompt').textContent = lvl.question;
        foundInLevel = 0;
    }

    function renderGrid() {
        const grid = document.getElementById('grid');
        grid.innerHTML = '';
        // Mischen der Begriffe
        allItems.sort(() => Math.random() - 0.5).forEach(item => {
            const btn = document.createElement('button');
            btn.className = 'item-btn';
            btn.textContent = item;
            btn.onclick = () => checkAnswer(item, btn);
            grid.appendChild(btn);
        });
    }

    function checkAnswer(item, btn) {
        const lvl = quizData.levels[currentLevelIdx];
        if (lvl.targets.includes(item)) {
            btn.classList.add('correct');
            score++;
            foundInLevel++;
            document.getElementById('score').textContent = score;

            if (foundInLevel === lvl.count) {
                currentLevelIdx++;
                if (currentLevelIdx < quizData.levels.length) {
                    setTimeout(renderLevel, 600);
                } else {
                    document.getElementById('prompt').innerHTML = "üåã VULKAN-EXPERTE! <br> Du hast alle 36 Begriffe korrekt zugeordnet.";
                }
            }
        } else {
            btn.classList.add('wrong');
            setTimeout(() => btn.classList.remove('wrong'), 400);
        }
    }

    init();
</script>

</body>
</html>
